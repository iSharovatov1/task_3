<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
  </head>
  <body>
    <script>
      function isSimple (arr, number) {
        for (let i = 0; i < arr.length; i++) {
          if (Number.isInteger(number/arr[i])) return false;
        }
        return true;
      }
      function main(count) {
        const simples = [2, 3];
        const arr = [];
        let newCount = count;
        let i = 0;
        while (newCount >= 2) {
            newCount = count / simples[i];
            const simple = 6*(i+1)
            const prewSimple = simple - 1;
            const nextSimple = simple + 1;
            i++;
            if (isSimple(simples, prewSimple)) simples.push(prewSimple);
            if (isSimple(simples, nextSimple)) simples.push(nextSimple);
            if (Number.isInteger(newCount)) {
                arr.push(newCount)
            }
      }
      const set = new Set(simples);
      for ( let i = arr.length - 1; i >= 0; i--) {
          const resolve = count/arr[i]
          if (set.has(resolve)) return(resolve)
      }
    };
    console.log(main(600851475143))
    </script>
  </body>
</html>
